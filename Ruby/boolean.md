# 論理値とif文(条件式)

- true と false

`true`は真の代表値、`falseとnil以外`のオブジェクトは全てtrue。

論理値はif文でよく使用される。

---

- if式での変数の確保

変数宣言とif式を組み合わせた場合、判定結果に関わらず変数自体は確保される

```ruby
a = 1 if false # 条件式は満たさないが変数aは確保
p a # => nil ...その場合の変数の値はnil
p x # => NameError ...未定義の変数は例外発生 
```

---

- then と elsif

```ruby
a = 10

if a == 1 then
  b = 1
elsif a == 2
  b = 2
else
  b = 3
end

p b　# => 3
```

else if ではない。間違えやすい。`elsif`

---

- unless式

条件が成立しない場合の処理を先に記述する場合に使用。

```ruby
a = 10

unless a == 1 then
  c = 1
else
  c = 0
end

p c # => 1
```

---

- 条件演算子(三項演算子)

```ruby
x = true ? 1 : 2
p x # => 1
```

---

- 擬似変数

trueとfalseは擬似変数と呼ばれる特殊な変数で提供されている。

擬似変数には代入ができない。(特別な変数なので)

`true, false, nil, self` などが代表的。

他にも `__FILE__ , __LINE__ , __ENCODING__`などもあり。

---

- 論理演算子

論理積(かつ)：`&&`

論理和(または)：`||`

否定(でない)：`!=`

→式の評価値は最後に評価したオペランドとなる

```ruby
a = nil && 1 # => nil
a = 1 || 2 # => 1
```

上の例では左辺で結果が確定するので、論理演算子の左辺の値が返っている。

`最後に評価したオペランドの値を返す`、という特徴を活かしたのが`nilガード`。

```ruby
b = b || 1 # bが初期化していない(nil)の場合に1を格納
c ||= 1 # cが初期化していない(nil)の場合に1を格納
```
